
<div ng-if="mobilePage.G.global.activePanel === 3" ng-controller="GlassesCtrl as glassPanel" class="mobile-glass mobile-common-panel">
  <div class="box-rehau">
    <div class="top-container">
      <div ng-if="mobilePage.isSet(1)" class="top-container-item">
        <div class="top-container-header">
          <div class="top-container-title">Выбор шаблона</div>
          <div ng-if="!mobilePage.G.global.SelectedTemplateName" data-output="Левое глухое, правое поворотно–откидное" typing="{{ lightPage.config.typing }}" typing-delay="{{ lightPage.config.DELAY_TYPE_ITEM_TITLE }}" class="top-container-subtitle"></div>
          <div ng-if="mobilePage.G.global.SelectedTemplateName" class="top-container-subtitle">{{ mobilePage.G.global.SelectedTemplateName }}</div>
        </div>
        <button ng-click="mobilePage.closePanelMobile()" class="top-container-close"></button>
      </div>
      <div ng-if="mobilePage.G.global.activePanel === 2" class="top-container-item">
        <div class="top-container-header">
          <div class="top-container-title">Профиль</div>
          <div class="top-container-subtitle">{{ mobilePage.P.product.profile.name  }}</div>
        </div>
        <button ng-click="mobilePage.closePanelMobile(); mobilePage.setTab(5)" class="top-container-close"></button>
      </div>
      <div ng-if="mobilePage.G.global.activePanel === 3" class="top-container-item">
        <div class="top-container-header">
          <div class="top-container-title">Стелопакет</div>
          <div class="top-container-subtitle">{{ mobilePage.P.product.glass[0].name }}</div>
        </div>
        <button ng-click="mobilePage.closePanelMobile(); mobilePage.setTab(5)" class="top-container-close"></button>
      </div>
      <div ng-if="mobilePage.G.global.activePanel === 5" class="top-container-item">
        <div class="top-container-header">
          <div class="top-container-title">Ламинация (в комнате | фасад)</div>
          <div class="top-container-subtitle">{{ mobilePage.P.product.lamination.laminat_in_name | translate}} | {{ mobilePage.P.product.lamination.laminat_out_name | translate}}</div>
        </div>
        <button ng-click="mobilePage.closePanelMobile(); mobilePage.setTab(5)" class="top-container-close"></button>
      </div>
      <div ng-if="mobilePage.G.global.activePanel === 6" class="top-container-item">
        <div class="top-container-header">
          <div class="top-container-title">Дополнительные элементы</div>
          <div class="top-container-subtitle">Общая цена доп. элементов ({{ mobilePage.P.product.addelemPriceDis.toFixed(0)}} {{mobilePage.U.userInfo.currencies}})</div>
        </div>
        <button ng-click="mobilePage.closePanelMobile(); mobilePage.setTab(5)" class="top-container-close"></button>
      </div>
      <div ng-if="mobilePage.isSet(4)" class="top-container-item">
        <div class="top-container-header">
          <div class="top-container-title">Корзина</div>
          <div class="top-container-subtitle">Расчёт стоимости и услуги</div>
        </div>
        <button ng-click="mobilePage.closePanelMobile(); mobilePage.setTab(5)" class="top-container-close"></button>
      </div>
    </div>
    <div class="glass-container">
      <div ng-repeat="typeGlass in glassPanel.G.global.glasses track by $index" ng-class="{gray : $index%2 === 0 }" ng-init="FolderIndex = $index" class="glass-block-rehau">
        <div ng-if="glassPanel.OpenFolder === FolderIndex" class="glass-folder">
          <div ng-repeat="glass in typeGlass track by $index" ng-class="{'active': glass.id == glassPanel.G.global.selectGlassId }" class="glass-item-rehau">
            <div ng-class="{'active': glass.id == glassPanel.G.global.selectGlassId }" fs-click="glassPanel.selectGlass(glass.id, glass.sku, glass.glass_color); mobilePage.closePanelMobile(); mobilePage.setTab(5)" class="title">
              <p>{{glass.name}}</p>
              <div ng-if="glass.img.length &amp;&amp; glass.description" fs-click="glassPanel.showInfoBox(glass.id, typeGlass)" class="info-rehau"></div>
            </div>
            <div fs-click="glassPanel.selectGlass(glass.id, glass.sku, glass.glass_color); mobilePage.closePanelMobile(); mobilePage.setTab(5)" class="glass-extra-info">
              <div class="transcalency">
                <h4>Теплопроводимость</h4><span>{{glass.transcalency}} м2*С/Вт</span>
              </div>
              <div class="noise-isolation">
                <h4>Шумоизоляция</h4><span>{{glass.noise_coeff}} Дб</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div ng-class="{'active': glassPanel.G.global.showGlassSelectorDialog}" class="glass-selector-dialog">
      <div fs-click="glassPanel.closeGlassSelectorDialog(1)" class="close-dialog"></div>
      <div class="dialog-title">
        <div class="apply-title">
          <p>{{glassPanel.APPLY}}</p>
        </div>
        <div ng-class="{'column': glassPanel.G.global.selectGlassName.length &gt; 8}" class="glass-title">
          <div class="curr-glass-value">
            <p>{{ glassPanel.G.global.glassTypes[glassPanel.OpenFolder].name }}&nbsp</p>
          </div>
          <div class="curr-glass-value">
            <p>{{glassPanel.G.global.selectGlassName}}</p>
          </div>
        </div>
      </div>
      <div class="dialog-inner-mob">
        <svg-template template="glassPanel.P.product.template" template-width="mobilePage.mobWidthGlass" template-height="mobilePage.mobWidthGlass" type-construction="glassPanel.constants.SVG_ID_GLASS"></svg-template>
      </div>
      <div class="buttons">
        <div fs-click="glassPanel.confirmGlass()" class="set-glass-btn">
          <p>{{ ::glassPanel.SELECT_CURRENT }}</p>
        </div>
        <div fs-click="glassPanel.confirmGlass()" class="set-glass-all-btn">
          <p>{{ ::glassPanel.SELECT_ALL_CONSTRUCTION }}</p>
        </div>
      </div>
    </div>
    <div class="bottom-block">
      <div ng-if="!mobilePage.isSet(4) &amp;&amp; !mobilePage.isSet(1) &amp;&amp; !mobilePage.isSet(2) &amp;&amp; !mobilePage.isSet(3) &amp;&amp; !mobilePage.isSet(4) &amp;&amp; !mobilePage.isSet(5)" ng-click="mobilePage.checkForAddElem();" class="to-basket-button">
        <button class="add-to-basket">Добавить в корзину</button>
      </div>
      <div ng-if="!mobilePage.isSet(4) &amp;&amp; !mobilePage.isSet(1) &amp;&amp; !mobilePage.isSet(2) &amp;&amp; !mobilePage.isSet(3) &amp;&amp; !mobilePage.isSet(5)" class="to-basket-button-for-landing disabled">
        <button class="add-to-basket">Добавить в корзину</button>
      </div>
      <div class="price-and-coeff-block">
        <div ng-if="!mobilePage.isSet(4) &amp;&amp; !mobilePage.isSet(1) &amp;&amp; !mobilePage.isSet(2) &amp;&amp; !mobilePage.isSet(3) &amp;&amp; !mobilePage.isSet(4)" class="heat-coeff-txt"><span class="heat-coeff-span">Оценка энергоэффективности</span>
          <div ng-if="mobilePage.U.userInfo.discountConstr &gt; 0" class="price-discount-text"><span class="price-discount-span">{{mobilePage.P.product.product_price.toFixed(0)}}</span><span class="price-discount-percentage">-{{mobilePage.U.userInfo.discountConstr}}%</span></div>
        </div>
        <div ng-if="!mobilePage.isSet(4) &amp;&amp; !mobilePage.isSet(1) &amp;&amp; !mobilePage.isSet(2) &amp;&amp; !mobilePage.isSet(3) &amp;&amp; !mobilePage.isSet(4)" class="price-and-heat-coeff">
          <div class="expert-mark-row">
            <div class="expert-mark">{{mobilePage.P.product.heat_coef_expert_mark}} -</div>
            <div ng-if="mobilePage.P.product.heat_coef_expert_mark &lt; 6.1" class="title-rehau"><span> Для балконов</span></div>
            <div ng-if="mobilePage.P.product.heat_coef_expert_mark&gt; 6.1 &amp;&amp; mobilePage.P.product.heat_coef_expert_mark &lt;= 6.5" class="title-rehau"><span> Нормально</span></div>
            <div ng-if="mobilePage.P.product.heat_coef_expert_mark &gt; 6.5 &amp;&amp; mobilePage.P.product.heat_coef_expert_mark &lt;= 7" class="title-rehau"><span> Достаточно хорошо!</span></div>
            <div ng-if="mobilePage.P.product.heat_coef_expert_mark &gt; 7 &amp;&amp; mobilePage.P.product.heat_coef_expert_mark &lt;= 7.5" class="title-rehau"><span> Хорошо!</span></div>
            <div ng-if="mobilePage.P.product.heat_coef_expert_mark &gt; 7.5 &amp;&amp; mobilePage.P.product.heat_coef_expert_mark &lt;= 8.2" class="title-rehau"><span> Очень хорошо!</span></div>
            <div ng-if="mobilePage.P.product.heat_coef_expert_mark &gt; 8.2 &amp;&amp; mobilePage.P.product.heat_coef_expert_mark &lt;= 9" class="title-rehau"><span> Отлично!</span></div>
            <div ng-if="mobilePage.P.product.heat_coef_expert_mark &gt; 9 &amp;&amp; mobilePage.P.product.heat_coef_expert_mark &lt;= 9.4" class="title-rehau"><span> Превосходно!</span></div>
            <div ng-if="mobilePage.P.product.heat_coef_expert_mark &gt; 9.4" class="title-rehau"><span> Лучший выбор!</span></div>
          </div>
          <div class="price-block">
            <price price-value="mobilePage.G.global.tempPrice" price-currency="mobilePage.U.userInfo.currency" ng-click="mobilePage.checkForAddElem()"></price>
          </div>
        </div>
      </div>
      <div ng-if="mobilePage.isSet(4)" class="price-total">
        <div class="total-txt"><span>Итого:</span></div>
        <div class="price-total-price">  
          <div ng-if="mobilePage.U.userInfo.discountConstr &gt; 0" class="price-discount-text"><span class="price-discount-span">{{cartPage.O.order.order_price.toFixed(0)}}</span><span class="price-discount-percentage">-{{mobilePage.U.userInfo.discountConstr}}%</span></div>
          <price price-value="cartPage.O.order.orderPricePrimaryDis" price-currency="cartPage.U.userInfo.currency"></price>
        </div>
      </div>
      <!--main screen-->
      <div ng-if="!mobilePage.isSet(4)" class="control-buttons-container-rehau">
        <div class="mobile-price-block-rehau">
          <div fs-click="mobilePage.closePanelMobile()" ng-class="{'active': mobilePage.isSet(0)}" class="menu-block">
            <div class="menu-icon"> <img src="./img/rehau-img/razmeri.svg" alt="rectangle" class="active-img"></div>
            <div class="menu-text">Размеры</div>
          </div>
          <div fs-click="mobilePage.setTab(1)" ng-class="{'active': mobilePage.isSet(1)}" class="menu-block">
            <div class="menu-icon"> <img src="./img/rehau-img/shabloni.svg" alt="template" class="active-img"></div>
            <div class="menu-text">Конструкции</div>
          </div>
          <div fs-click="mobilePage.setTab(5)" ng-class="{'active': mobilePage.isSet(5)}" class="menu-block">
            <div class="menu-icon"> <img src="./img/rehau-img/settings.svg" alt="settings" class="active-img"></div>
            <div class="menu-text">Параметры</div>
          </div>
          <div fs-click="mobilePage.checkSavingProductMobile()" ng-class="{'active': mobilePage.isSet(4)}" class="menu-block basket-mobile">
            <div class="menu-icon-basket"><img src="./img/rehau-img/korzina.svg" alt="basket-icon" class="active-img">
              <input readonly="readonly" ng-model="mobilePage.G.global.construction_count" class="construction-count-mobile">
            </div>
            <div class="menu-text">Корзина</div>
          </div>
          <div class="menu-block for-landing-mobile disabled">
            <div class="menu-icon-basket"><img src="./img/rehau-img/korzina.svg" alt="basket-icon" class="active-img">
              <input readonly="readonly" ng-model="mobilePage.G.global.construction_count" class="construction-count-mobile">
            </div>
            <div class="menu-text">Корзина</div>
          </div>
        </div>
      </div>
      <!--basket-->
      <div ng-if="mobilePage.isSet(4)" class="go-to-spec">
        <button ng-click="mobilePage.openOrderDialog()" class="spec">Оставить заявку</button>
        <button ng-click="cartPage.addNewProductInOrder()" class="add-product-rehau">Добавить окно</button>
      </div>
    </div>
  </div>
</div>

<section ng-class="{ 'swiped': !global.showNavMenu }" class="page-container">
  <section class="left-side">
    <div ng-controller="NavMenuCtrl" class="nav-menu">
      <header class="nav-menu-header">
        <ul show-delay="{{ navMenu.DELAY_SHOW_NAV_LIST }}" class="items-list unvisible">
          <li ng-class="{'selected': navMenu.activeMenuItem==1}" ng-click="selectMenuItem(1); global.gotoLocationPage()" class="item">
            <div class="item-content"><span show-delay="{{ navMenu.DELAY_SHOW_NAVICON * (1 + navMenu.DELAY_SHOW_STEP) }}" class="nav-icon-addLocation unvisible"></span><span data-output="{{ 'mainpage.NAVMENU_GEOLOCATION' | translate }}" typing="{{ navMenu.typing }}" typing-delay="{{ navMenu.DELAY_TYPE_NAVTITLE * (1 + navMenu.DELAY_SHOW_STEP) }}" class="title"></span></div>
          </li>
          <li ng-class="{'selected': navMenu.activeMenuItem==2}" ng-click="selectMenuItemTimeOut(2); getCurrentGeolocation()" class="item">
            <div class="item-content"><span show-delay="{{ navMenu.DELAY_SHOW_NAVICON * (1 + navMenu.DELAY_SHOW_STEP * 2) }}" class="nav-icon-geoLocation unvisible"></span><span data-output="{{ 'mainpage.NAVMENU_CURRENT_GEOLOCATION' | translate }}" typing="{{ navMenu.typing }}" typing-delay="{{ navMenu.DELAY_TYPE_NAVTITLE * (1 + navMenu.DELAY_SHOW_STEP * 2) }}" class="title"></span></div>
          </li>
          <li ng-class="{'selected': navMenu.activeMenuItem==3}" ng-click="selectMenuItemTimeOut(3)" class="item">
            <div class="item-content"><span show-delay="{{ navMenu.DELAY_SHOW_NAVICON * (1 + navMenu.DELAY_SHOW_STEP * 3) }}" class="nav-icon-location unvisible"></span><span data-output="{{ global.currentGeoLocation.cityName }}" typing="{{ navMenu.typing }}" typing-delay="{{ navMenu.DELAY_TYPE_NAVTITLE * (1 + navMenu.DELAY_SHOW_STEP * 3) }}" class="title"></span></div>
          </li>
          <li ng-if="global.prevGeoLocation" ng-class="{'selected': navMenu.activeMenuItem==4}" ng-click="selectMenuItemTimeOut(4); setCurrentGeoLocation()" class="item">
            <div class="item-content"><span show-delay="{{ navMenu.DELAY_SHOW_NAVICON * (1 + navMenu.DELAY_SHOW_STEP * 4) }}" class="nav-icon-location unvisible"></span><span data-output="{{ global.prevGeoLocation.cityName }}" typing="{{ navMenu.typing }}" typing-delay="{{ navMenu.DELAY_TYPE_NAVTITLE * (1 + navMenu.DELAY_SHOW_STEP * 4) }}" class="title"></span></div>
          </li>
        </ul>
        <div data-output="{{ 'mainpage.NAVMENU_CALCULATIONS' | translate }}" typing="{{ navMenu.typing }}" typing-delay="{{ navMenu.DELAY_TYPE_DIVIDER }}" class="divider"></div>
        <ul show-delay="{{ navMenu.DELAY_SHOW_NAV_LIST * 2.5 }}" class="items-list unvisible">
          <li ng-hide="global.isCreatedNewProject" ng-class="{'selected': navMenu.activeMenuItem==5}" ng-click="selectMenuItem(5); gotoCurrentProduct()" class="item">
            <div class="item-content"><span show-delay="{{ navMenu.DELAY_SHOW_NAVICON * (1 + navMenu.DELAY_SHOW_STEP * 5)}}" class="nav-icon-calculation unvisible"></span><span data-output="{{ 'mainpage.NAVMENU_CURRENT_CALCULATION' | translate }}" typing="{{ navMenu.typing }}" typing-delay="{{ navMenu.DELAY_TYPE_NAVTITLE * (1 + navMenu.DELAY_SHOW_STEP * 5) }}" class="title"></span></div>
          </li>
          <li ng-if="global.productCounter &amp;&amp; global.productCounter &gt; 0 &amp;&amp; !global.isCreatedNewProject" ng-class="{'selected': navMenu.activeMenuItem==6}" ng-click="selectMenuItem(6); global.gotoCartPage()" class="item">
            <div class="item-content"><span show-delay="{{ navMenu.DELAY_SHOW_NAVICON * (1 + navMenu.DELAY_SHOW_STEP * 6) }}" class="nav-icon-basketOfCalculation unvisible"></span><span data-output="{{ 'mainpage.NAVMENU_CART' | translate }}" typing="{{ navMenu.typing }}" typing-delay="{{ navMenu.DELAY_TYPE_NAVTITLE * (1 + navMenu.DELAY_SHOW_STEP * 6) }}" class="title"></span><span show-delay="{{ navMenu.DELAY_SHOW_ORDERS }}" class="badge unvisible">{{ global.productCounter }}</span></div>
          </li>
          <li ng-class="{'selected': navMenu.activeMenuItem==7}" ng-click="selectMenuItem(7); gotoAddElementsPanel()" class="item">
            <div class="item-content"><span show-delay="{{ navMenu.DELAY_SHOW_NAVICON * (1 + navMenu.DELAY_SHOW_STEP * 7) }}" class="nav-icon-additionalComponents unvisible"></span><span data-output="{{ 'mainpage.NAVMENU_ADD_ELEMENTS' | translate }}" typing="{{ navMenu.typing }}" typing-delay="{{ navMenu.DELAY_TYPE_NAVTITLE * (1 + navMenu.DELAY_SHOW_STEP * 7) }}" class="title"></span></div>
          </li>
          <li ng-class="{'selected': navMenu.activeMenuItem==8}" ng-click="selectMenuItem(8); gotoHistoryPage()" class="item">
            <div class="item-content"><span show-delay="{{ navMenu.DELAY_SHOW_NAVICON * (1 + navMenu.DELAY_SHOW_STEP * 8) }}" class="nav-icon-calculationsHistory unvisible"></span><span data-output="{{ 'mainpage.NAVMENU_ALL_CALCULATIONS' | translate }}" typing="{{ navMenu.typing }}" typing-delay="{{ navMenu.DELAY_TYPE_NAVTITLE * (1 + navMenu.DELAY_SHOW_STEP * 8) }}" class="title"></span></div>
          </li>
        </ul>
        <div data-output="{{ 'mainpage.NAVMENU_APPENDIX' | translate }}" typing="{{ navMenu.typing }}" typing-delay="{{ navMenu.DELAY_TYPE_DIVIDER * 2 }}" class="divider"></div>
        <ul show-delay="{{ navMenu.DELAY_SHOW_NAV_LIST * 4 }}" class="items-list unvisible">
          <li ng-class="{'selected': navMenu.activeMenuItem==9}" ng-click="selectMenuItem(9); global.gotoSettingsPage()" class="item">
            <div class="item-content"><span show-delay="{{ navMenu.DELAY_SHOW_NAVICON * (1 + navMenu.DELAY_SHOW_STEP * 9) }}" class="nav-icon-settings unvisible"></span><span data-output="{{ 'mainpage.NAVMENU_SETTINGS' | translate }}" typing="{{ navMenu.typing }}" typing-delay="{{ navMenu.DELAY_TYPE_NAVTITLE * (1 + navMenu.DELAY_SHOW_STEP * 9) }}" class="title"></span></div>
          </li>
          <li ng-class="{'selected': navMenu.activeMenuItem==10}" ng-click="selectMenuItem(10)" class="item">
            <div class="item-content"><span show-delay="{{ navMenu.DELAY_SHOW_NAVICON * (1 + navMenu.DELAY_SHOW_STEP * 10) }}" class="nav-icon-information unvisible"></span><span data-output="{{ 'mainpage.NAVMENU_MORE_INFO' | translate }}" typing="{{ navMenu.typing }}" typing-delay="{{ navMenu.DELAY_TYPE_NAVTITLE * (1 + navMenu.DELAY_SHOW_STEP * 10) }}" class="title"></span></div>
          </li>
          <li ng-class="{'selected': global.isVoiceHelper}" ng-click="switchVoiceHelper()" class="item">
            <div class="item-content"><span show-delay="{{ navMenu.DELAY_SHOW_NAVICON * (1 + navMenu.DELAY_SHOW_STEP * 11) }}" class="nav-icon-information unvisible"></span><span data-output="{{ 'mainpage.NAVMENU_VOICE_HELPER' | translate }}" typing="{{ navMenu.typing }}" typing-delay="{{ navMenu.DELAY_TYPE_NAVTITLE * (1 + navMenu.DELAY_SHOW_STEP * 11) }}" class="title"></span></div>
          </li>
        </ul>
      </header>
      <footer class="nav-menu-footer">
        <button ng-show="global.startProgramm" ng-click="createNewProjectFirst()" show-delay="{{ navMenu.DELAY_SHOW_NEWCALC_BTN }}" class="new-calc unvisible">{{ 'mainpage.NAVMENU_NEW_CALC' | translate }}</button>
        <button ng-hide="global.startProgramm" ng-click="global.createNewProject()" show-delay="{{ navMenu.DELAY_SHOW_NEWCALC_BTN }}" class="new-calc unvisible">{{ 'mainpage.NAVMENU_NEW_CALC' | translate }}</button>
      </footer>
    </div>
  </section>
  <section class="right-side">
    <section class="main-content">
      <section class="cart-page">
        <section class="cart-container full-view">
          <div class="cart-header">
            <div ng-controller="UserInfoCtrl" class="user-info-container">
              <button ng-if="!global.isHistoryPage" ng-class="{ 'show-navmenu': global.showNavMenu }" ng-click="swipeMainPage()" class="nav-menu-btn"></button>
              <button ng-if="global.isHistoryPage" ng-click="global.createNewProject()" class="nav-menu-btn"></button>
              <div class="user-foto"></div>
              <div show-delay="{{ userInfo.DELAY_SHOW_USER_INFO }}" class="icon-location unvisible"></div>
              <div class="user-info-block">
                <div data-output="{{ global.userInfo.cityName }}" typing="{{ userInfo.typing }}" typing-delay="{{ userInfo.DELAY_SHOW_USER_INFO }}" class="user-location"></div>
                <div data-output="{{ global.userInfo.name }}" typing="{{ userInfo.typing }}" typing-delay="{{ userInfo.DELAY_SHOW_USER_INFO }}" class="user-name"></div>
              </div>
            </div>
            <button class="cart-tool additional-elements">{{ 'cart.ALL_ADD_ELEMENTS' | translate }}</button>
            <button ng-click="addNewProductInOrder()" class="cart-tool new-order">{{ 'cart.ADD_ORDER' | translate }}</button>
          </div>
          <div class="order-block">
            <div ng-repeat="product in global.productObj" class="order">
              <button ng-click="deleteProduct(product.productId, $index)" class="order-delete"></button>
              <div ng-switch="product.roomId" ng-click="editProduct(product.productId)" class="order-header"><img ng-switch-when="1" ng-src="../img/rooms-dialog/kitchen.jpg" class="order-header-fon"><img ng-switch-when="2" ng-src="../img/rooms-dialog/livingroom.jpg" class="order-header-fon"><img ng-switch-when="3" ng-src="../img/rooms-dialog/balcony.jpg" class="order-header-fon"><img ng-switch-when="4" ng-src="../img/rooms-dialog/childroom.jpg" class="order-header-fon"><img ng-switch-when="5" ng-src="../img/rooms-dialog/bedroom.jpg" class="order-header-fon"><img ng-switch-when="6" ng-src="../img/rooms-dialog/door.jpg" class="order-header-fon">
                <div class="order-template">
                  <svg-template template="product.icon" template-width="global.svgTemplateThumbWidth" template-height="global.svgTemplateThumbHeight" type-construction="icon"></svg-template>
                </div>
                <div class="order-coeff"><span class="coeff-label">{{ 'cart.HEAT_TRANSFER' | translate }}</span><span class="coeff-value">{{ product.heatCoeff }}</span></div>
              </div>
              <div class="order-content">
                <ul class="order-list">
                  <li class="order-item">
                    <div class="order-value">{{ product.productWidth }} {{ 'mainpage.MM' | translate }}</div>
                    <div class="order-value">{{ product.productHeight }} {{ 'mainpage.MM' | translate }}</div>
                    <div class="order-label">{{ 'mainpage.CONFIGMENU_SIZING' | translate }}</div>
                  </li>
                  <li class="order-item">
                    <div class="order-value">{{ product.profileName }}</div>
                    <div class="order-label">{{ 'mainpage.CONFIGMENU_PROFILE' | translate }}</div>
                  </li>
                  <li class="order-item">
                    <div class="order-value">{{ product.glassName }}</div>
                    <div class="order-label">{{ 'mainpage.CONFIGMENU_GLASS' | translate }}</div>
                  </li>
                  <li class="order-item">
                    <div class="order-value">{{ product.hardwareName }}</div>
                    <div class="order-label">{{ 'mainpage.CONFIGMENU_HARDWARE' | translate }}</div>
                  </li>
                  <li class="order-item">
                    <div class="order-label">{{ 'mainpage.CONFIGMENU_LAMINATION_TYPE' | translate }}</div>
                    <div class="order-value">{{ product.laminationOutName }} / {{ product.laminationInName }}</div>
                    <div class="order-label">{{ 'mainpage.CONFIGMENU_LAMINATION' | translate }}</div>
                  </li>
                  <li ng-click="showAllAddElementDetail(product.productId, $index)" class="order-item addelements-btn">
                    <div ng-if="cart.allAddElements[$index].length &gt; 4 || !cart.allAddElements[$index].length" class="order-value">{{cart.allAddElements[$index].length}} {{ 'add_elements.ELEMENTS' | translate }}</div>
                    <div ng-if="cart.allAddElements[$index].length &lt; 5 &amp;&amp; cart.allAddElements[$index].length &gt; 1" class="order-value">{{cart.allAddElements[$index].length}} {{ 'add_elements.ELEMENTA' | translate }}</div>
                    <div ng-if="cart.allAddElements[$index].length === 1" class="order-value">{{cart.allAddElements[$index].length}} {{ 'add_elements.ELEMENT' | translate }}</div>
                    <div class="order-label">{{ 'mainpage.CONFIGMENU_ADDITIONAL' | translate }}</div>
                  </li>
                </ul>
                <div class="order-qty">
                  <button ng-click="lessProduct(product.productId, $index)" class="order-tool">-</button>
                  <div class="order-value">{{ product.productQty }}</div>
                  <button ng-click="moreProduct(product.productId, $index)" class="order-tool">+</button>
                  <div class="order-label qty-label">{{ 'cart.PRODUCT_QTY' | translate }}</div>
                </div>
              </div>
              <div class="order-footer">{{ product.productPrice * product.productQty }} {{ global.currency }}</div>
              <div ng-show="cart.isAddElementDetail === product.productId" class="addelements-detail">
                <div class="addelements-detail-header">
                  <div class="addelements-detail-tools">
                    <button class="addelements-detail-edit">{{ 'cart.ADDELEMENTS_EDIT_LIST' | translate }}</button>
                    <button ng-click="closeAllAddElementDetail()" class="addelements-detail-close"></button>
                  </div>
                  <div class="product-template">
                    <div class="addelements-detail-row">
                      <div class="product-value">
                        <div class="product-icon-thumb">
                          <svg-template template="product.icon" template-width="global.svgTemplateThumbWidth" template-height="global.svgTemplateThumbHeight" type-construction="icon"></svg-template>
                        </div><span class="product-template-qty">X {{ product.productQty }}</span>
                      </div>
                      <div class="product-icon-label">{{ 'cart.PRODUCT_QTY' | translate }}</div>
                    </div>
                    <div class="addelements-detail-row">
                      <div class="product-value">{{ product.productWidth }} {{ 'mainpage.MM' | translate }} *</div>
                      <div class="product-label">{{ 'add_elements.WIDTH_LABEL' | translate }}</div>
                    </div>
                    <div class="addelements-detail-row">
                      <div class="product-value">{{ product.productHeight }} {{ 'mainpage.MM' | translate }}</div>
                      <div class="product-label">{{ 'add_elements.HEIGHT_LABEL' | translate }}</div>
                    </div>
                  </div>
                </div>
                <div class="addelements-detail-content">
                  <ul class="addelements-detail-list">
                    <li ng-repeat="addelement in cart.allAddElements[$index]" ng-switch="addelement.elementId" class="addelements-detail-item">
                      <div class="product-value">{{ addelement.elementName }}</div>
                      <div ng-switch-when="1" class="product-value">{{ 'add_elements.GRID' | translate }}</div>
                      <div ng-switch-when="2" class="product-value">{{ 'add_elements.VISOR' | translate }}</div>
                      <div ng-switch-when="3" class="product-value">{{ 'add_elements.SPILLWAY' | translate }}</div>
                      <div ng-switch-when="4" class="product-value">{{ 'add_elements.OUTSIDE' | translate }}</div>
                      <div ng-switch-when="5" class="product-value">{{ 'add_elements.LOUVERS' | translate }}</div>
                      <div ng-switch-when="6" class="product-value">{{ 'add_elements.INSIDE' | translate }}</div>
                      <div ng-switch-when="7" class="product-value">{{ 'add_elements.CONNECTORS' | translate }}</div>
                      <div ng-switch-when="8" class="product-value">{{ 'add_elements.FAN' | translate }}</div>
                      <div ng-switch-when="9" class="product-value">{{ 'add_elements.WINDOWSILL' | translate }}</div>
                      <div ng-switch-when="10" class="product-value">{{ 'add_elements.HANDLEL' | translate }}</div>
                      <div ng-switch-when="11" class="product-value">{{ 'add_elements.OTHERS' | translate }}</div>
                      <div class="addelement-parameters">
                        <div ng-show="addelement.elementWidth" class="addelement-parameter">
                          <div class="addelement-value">{{ addelement.elementWidth }}</div>
                          <div class="addelement-label">{{ 'add_elements.WIDTH_LABEL' | translate }}</div>
                        </div>
                        <div ng-show="addelement.elementHeight" class="addelement-parameter">
                          <div class="addelement-value">{{ addelement.elementHeight }}</div>
                          <div class="addelement-label">{{ 'add_elements.HEIGHT_LABEL' | translate }}</div>
                        </div>
                        <div ng-show="addelement.elementColor" class="addelement-parameter">
                          <div class="addelement-value"><img ng-src="{{ addelement.elementColor }}"></div>
                          <div class="addelement-label">{{ 'add_elements.COLOR_LABEL' | translate }}</div>
                        </div>
                        <div ng-show="addelement.elementQty" class="addelement-parameter">
                          <div class="addelement-value">{{ addelement.elementQty * product.productQty}}</div>
                          <div class="addelement-label">{{ 'add_elements.QTY_LABEL' | translate }}</div>
                        </div>
                      </div>
                      <div class="addelement-parameters">
                        <div class="addelement-price-value">+ {{ addelement.elementQty * product.productQty * addelement.elementPrice }} {{ global.currency }}</div>
                        <div class="addelement-label">({{ addelement.elementQty * product.productQty}} x {{ addelement.elementPrice }}{{ global.currency }})</div>
                      </div>
                    </li>
                  </ul>
                  <div class="addelements-detail-row price-one-product">
                    <div class="addelement-price-value">+ {{ product.addElementsPrice }} {{ global.currency }}</div>
                    <div class="product-label">{{ 'cart.ADDELEMENTS_PRODUCT_COST' | translate }}</div>
                  </div>
                </div>
                <div class="addelements-detail-footer"><span>{{ product.productPrice }} {{ global.currency }}</span><span>&#8721;</span></div>
              </div>
            </div>
          </div>
          <button ng-click="viewSwitching()" class="view-switch-tab">{{ 'cart.LIGHT_VIEW' | translate }}</button>
        </section>
        <section ng-class="{'active': isCartLightView}" class="cart-container light-view">
          <div class="cart-header">
            <div ng-controller="UserInfoCtrl" class="user-info-container">
              <button ng-if="!global.isHistoryPage" ng-class="{ 'show-navmenu': global.showNavMenu }" ng-click="swipeMainPage()" class="nav-menu-btn"></button>
              <button ng-if="global.isHistoryPage" ng-click="global.createNewProject()" class="nav-menu-btn"></button>
              <div class="user-foto"></div>
              <div show-delay="{{ userInfo.DELAY_SHOW_USER_INFO }}" class="icon-location unvisible"></div>
              <div class="user-info-block">
                <div data-output="{{ global.userInfo.cityName }}" typing="{{ userInfo.typing }}" typing-delay="{{ userInfo.DELAY_SHOW_USER_INFO }}" class="user-location"></div>
                <div data-output="{{ global.userInfo.name }}" typing="{{ userInfo.typing }}" typing-delay="{{ userInfo.DELAY_SHOW_USER_INFO }}" class="user-name"></div>
              </div>
            </div>
            <button class="cart-tool additional-elements">{{ 'cart.ALL_ADD_ELEMENTS' | translate }}</button>
            <button ng-click="createNewProduct()" class="cart-tool new-order">{{ 'cart.ADD_ORDER' | translate }}</button>
          </div>
          <div class="order-block">
            <div ng-repeat="product in global.productObj" class="order">
              <button ng-click="deleteProduct(product.productId, $index)" class="order-delete"></button>
              <div class="order-header">
                <div ng-click="editProduct(product.productId)" class="order-template">
                  <!--img.icon-thumb(ng-src="{{ product.productIcon }}", ng-click="editProduct(product.productId)")-->
                  <svg-template template="product.icon" template-width="global.svgTemplateThumbWidth" template-height="global.svgTemplateThumbHeight" type-construction="icon"></svg-template>
                </div>
              </div>
              <div class="order-content">
                <div class="order-value">{{ product.productWidth }} * {{ product.productHeight }} {{ 'mainpage.MM' | translate }}</div>
                <div ng-click="showAllAddElementDetail(product.productId, $index)" class="order-item addelements-btn">
                  <div ng-if="cart.allAddElements[$index].length &gt; 4 || !cart.allAddElements[$index].length" class="order-value">{{cart.allAddElements[$index].length}} {{ 'add_elements.ELEMENTS' | translate }}</div>
                  <div ng-if="cart.allAddElements[$index].length &lt; 5 &amp;&amp; cart.allAddElements[$index].length &gt; 1" class="order-value">{{cart.allAddElements[$index].length}} {{ 'add_elements.ELEMENTA' | translate }}</div>
                  <div ng-if="cart.allAddElements[$index].length === 1" class="order-value">{{cart.allAddElements[$index].length}} {{ 'add_elements.ELEMENT' | translate }}</div>
                  <div class="order-label">{{ 'mainpage.CONFIGMENU_ADDITIONAL' | translate }}</div>
                </div>
                <div class="order-qty">
                  <button ng-click="lessProduct(product.productId, $index)" class="order-tool">-</button>
                  <div class="order-value">{{ product.productQty }}</div>
                  <button ng-click="moreProduct(product.productId, $index)" class="order-tool">+</button>
                </div>
                <div class="order-label">{{ 'cart.PRODUCT_QTY' | translate }}</div>
              </div>
              <div class="order-footer">{{ product.productPrice }} {{ global.currency }}</div>
            </div>
          </div>
          <button ng-click="viewSwitching()" class="view-switch-tab">{{ 'cart.FULL_VIEW' | translate }}</button>
        </section>
      </section>
      <div ng-hide="!cart.isAddElementDetail" ng-click="closeAllAddElementDetail()" class="addelements-backview"></div>
    </section>
    <section class="right-menu">
      <div ng-controller="CartMenuCtrl" ng-init="getOrderNumber()" class="right-menu-controller">
        <div class="cart-menu">
          <ul class="items-list">
            <li ng-class="{'active': cartMenuData.activeMenuItem==1}" ng-click="selectMenuItem(1)" class="item">
              <div data-output="{{ 'cart.DELIVERY' | translate }}" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="title"></div>
              <div class="cart-item-data">
                <div ng-show="global.selectedFloor == 'free'" data-output="{{ 'cart.SELF_EXPORT' | translate }}" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="value"></div>
                <div ng-hide="global.selectedFloor == 'free'" data-output="{{ global.selectedFloor }} {{ 'cart.FLOOR' | translate }}" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="value"></div><span ng-hide="global.selectedFloor == 'free'" data-output=" + {{ global.selectedFloorPrice }} {{ global.currency }}" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="name aside"></span>
              </div>
            </li>
            <div ng-class="{'active': cartMenuData.activeMenuItem==1}" class="dropdown-cart-menu drop-delivery">
              <ul class="dropdown-items-list">
                <li ng-class="{'selected': cartMenuData.activeFloor == 'free'}" ng-click="selectFloorPrice('free')" class="dropdown-item">
                  <div class="dropdown-item-inner">
                    <div class="value drop-txt">{{ 'cart.SELF_EXPORT' | translate }}</div>
                    <div class="name drop-txt"></div>
                  </div>
                </li>
                <li ng-repeat="floorList in cartMenuData.floorData" ng-class="{'selected': cartMenuData.activeFloor == $index}" ng-click="selectFloorPrice($index)" class="dropdown-item">
                  <div class="dropdown-item-inner">
                    <div class="value drop-txt">{{floorList.name}} {{ 'cart.FLOOR' | translate }}</div>
                    <div class="name drop-txt">+ {{floorList.price}} {{ global.currency }}</div>
                  </div>
                </li>
              </ul>
            </div>
            <li ng-class="{'active': cartMenuData.activeMenuItem==2}" ng-click="selectMenuItem(2)" class="item">
              <div data-output="{{ 'cart.ASSEMBLING' | translate }}" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="title"></div>
              <div class="cart-item-data">
                <div ng-show="global.selectedAssembling == 'free'" data-output="{{ 'cart.WITHOUT_ASSEMBLING' | translate }}" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="value"></div>
                <div ng-hide="global.selectedAssembling == 'free'" data-output="{{ global.selectedAssembling }}" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="value"></div><span ng-hide="global.selectedAssembling == 'free'" data-output=" + {{ global.selectedAssemblingPrice }} {{ global.currency }}" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="name aside"></span>
              </div>
            </li>
            <div ng-class="{'active': cartMenuData.activeMenuItem==2}" class="dropdown-cart-menu drop-assembling">
              <ul class="dropdown-items-list">
                <li ng-class="{'selected': cartMenuData.activeAssembling == 'free'}" ng-click="selectAssembling('free')" class="dropdown-item">
                  <div class="dropdown-item-inner">
                    <div class="value drop-txt">{{ 'cart.WITHOUT_ASSEMBLING' | translate }}</div>
                    <div class="name drop-txt">{{ 'cart.FREE' | translate }}</div>
                  </div>
                </li>
                <li ng-repeat="assemb in cartMenuData.assemblingData" ng-class="{'selected': cartMenuData.activeAssembling == $index}" ng-click="selectAssembling($index)" class="dropdown-item">
                  <div class="dropdown-item-inner">
                    <div class="value drop-txt">{{ assemb.name }}</div>
                    <div class="name drop-txt">+ {{ assemb.price }} {{ global.currency }}</div>
                  </div>
                </li>
              </ul>
            </div>
            <li ng-class="{'active': cartMenuData.activeMenuItem==3}" ng-click="selectMenuItem(3)" class="item switcher">
              <div data-output="{{ 'cart.PAYMENT_BY_INSTALMENTS' | translate }}" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="title"></div>
              <div class="cart-item-data">
                <div ng-if="cartMenuData.activeInstalment == 'default'" data-output="{{ 'cart.WITHOUT_INSTALMENTS' | translate }}" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="value"></div>
                <div ng-if="cartMenuData.activeInstalment !== 'default' &amp;&amp; global.selectedInstalmentPeriod == 1" data-output="{{ global.selectedInstalmentPeriod }} {{ 'common_words.MONTH_LABEL' | translate }}" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="value"></div>
                <div ng-if="cartMenuData.activeInstalment !== 'default' &amp;&amp; global.selectedInstalmentPeriod &gt; 1 &amp;&amp; global.selectedInstalmentPeriod &lt; 5" data-output="{{ global.selectedInstalmentPeriod }} {{ 'common_words.MONTHA_LABEL' | translate }}" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="value"></div>
                <div ng-if="cartMenuData.activeInstalment !== 'default' &amp;&amp; global.selectedInstalmentPeriod &gt; 4" data-output="{{ global.selectedInstalmentPeriod }} {{ 'common_words.MONTHS_LABEL' | translate }}" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="value"></div><span ng-if="cartMenuData.activeInstalment !== 'default'" data-output="{{ global.selectedInstalmentPercent }} %" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="name aside"></span>
              </div>
              <div ng-class="{'active': cartMenuData.activeInstalmentSwitcher}" ng-click="turnOffInstalment()" class="check-switcher">
                <div class="check-bg-active"></div>
                <div class="check-bg-passive"></div>
              </div>
              <div ng-class="{'active': cartMenuData.activeInstalmentSwitcher}" ng-click="turnOffInstalment()" class="check-handle"></div>
            </li>
            <div ng-class="{'active': cartMenuData.activeMenuItem==3}" class="dropdown-cart-menu drop-instalment">
              <ul class="dropdown-items-list">
                <li ng-repeat="payment in cartMenuData.instalmentsData" ng-class="{'selected': cartMenuData.activeInstalment == $index}" ng-click="selectInstalment($index)" class="dropdown-item">
                  <div class="dropdown-item-inner">
                    <div ng-if="payment.period == 1" class="value">{{ payment.period }} {{ 'common_words.MONTH_LABEL' | translate }}</div>
                    <div ng-if="payment.period &gt; 1 &amp;&amp; payment.period &lt; 5" class="value">{{ payment.period }} {{ 'common_words.MONTHA_LABEL' | translate }}</div>
                    <div ng-if="payment.period &gt; 4" class="value">{{ payment.period }} {{ 'common_words.MONTHS_LABEL' | translate }}</div>
                    <div class="value value-percent">{{ payment.percent }} %</div>
                  </div>
                </li>
              </ul>
            </div>
            <li ng-class="{'active': cartMenuData.activeMenuItem==4}" ng-click="selectMenuItem(4)" class="item">
              <div data-output="{{ 'cart.DELIVERY_DATE' | translate }}" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="title"></div>
              <div data-output="{{ global.newDeliveryDate }}" typing="{{ cartMenuData.typing }}" typing-delay="{{ cartMenuData.DELAY_START }}" class="value"></div>
            </li>
            <div ng-class="{'active': cartMenuData.activeMenuItem==4}" class="dropdown-cart-menu drop-calendar">
              <calendar calendar-option=" {{ 'common_words.MONTHS' | translate }} " calendar-option-short="{{ 'common_words.MONTHS_SHOT' | translate }} " class="calendar-box"></calendar>
            </div>
            <div class="calendar-prices">
              <div ng-show="cartMenuData.datePriceMore" class="calendar-price up">+ {{ global.deliveryPrice }} {{ global.currency }}</div>
              <div ng-show="cartMenuData.datePriceLess" class="calendar-price down">- {{ global.deliveryPrice }} {{ global.currency }}</div>
            </div>
          </ul>
          <footer class="menu-footer">
            <div ng-class="{'active': cartMenuData.activeInstalmentSwitcher}" class="price-block price-with-instalments">
              <div class="name">{{ 'cart.FIRST_PAYMENT_LABEL' | translate }} {{ global.selectedInstalmentPercent }}</div>
              <div class="name">{{ 'cart.DATE_DELIVERY_LABEL' | translate }} {{ global.newDeliveryDate }}</div>
              <price price-value="global.paymentFirst" price-currency="global.currency"></price>
              <div class="name">{{ global.selectedInstalmentPeriod }} {{ 'cart.MONTHLY_PAYMENT_LABEL' | translate }}</div>
              <price price-value="global.paymentMonthly" price-currency="global.currency"></price>
            </div>
            <div ng-class="{'active': !cartMenuData.activeInstalmentSwitcher}" class="price-block price-without-instalments">
              <div class="name">{{ 'cart.TOTAL_PRICE_LABEL' | translate }} {{ global.newDeliveryDate }}</div>
              <price price-value="global.orderTotalPrice" price-currency="global.currency"></price>
            </div>
            <button ng-click="showCallOrderDialog()" class="order-btn">{{ 'cart.ORDER' | translate }}</button>
            <button ng-click="showCallMasterDialog()" class="measure-btn">{{ 'cart.MEASURE' | translate }}</button>
          </footer>
        </div>
        <div ng-class="{'active': cartMenuData.isOldPrice &amp;&amp; cartMenuData.activeInstalmentSwitcher}" class="old-price-inst-tab">
          <div class="name">{{ 'cart.FIRST_PAYMENT_LABEL' | translate }} {{ global.selectedInstalmentPercent }} %</div>
          <div class="name">{{ 'cart.DATE_DELIVERY_LABEL' | translate }} {{ global.deliveryDate }}</div>
          <price price-value="global.paymentFirstPrimary" price-currency="global.currency"></price>
          <div class="name">{{ global.selectedInstalmentPeriod }} {{ 'cart.MONTHLY_PAYMENT_LABEL' | translate }}</div>
          <price price-value="global.paymentMonthlyPrimary" price-currency="global.currency"></price>
        </div>
        <div ng-class="{'active': cartMenuData.isOldPrice &amp;&amp; !cartMenuData.activeInstalmentSwitcher}" class="old-price-tab">
          <div class="name">{{ 'cart.TOTAL_PRICE_LABEL' | translate }} {{ global.deliveryDate }}</div>
          <price price-value="global.orderTotalPricePrimary" price-currency="global.currency"></price>
        </div>
      </div>
    </section>
    <div id="call-master-dialog" ng-controller="CallMasterCtrl" ng-class="{ 'unvisible' : !global.showMasterDialog }" class="cart-dialogs">
      <div class="cart-dialogs-container">
        <form name="callMasterForm" novalidate ng-submit="submitForm(callMasterForm)">
          <div class="cart-dialog-header">
            <button ng-click="hideCallMasterDialog()" type="button" class="cart-dialog-tool back"></button>
            <div class="cart-dialog-title">{{ 'cart.CALL_MASTER' | translate }} {{ global.orderNumber }}</div>
            <button type="submit" class="save">{{ 'cart.READY' | translate }}</button>
          </div>
          <div class="cart-dialog-body">
            <div class="cart-dialog-descrip">{{ 'cart.CALL_MASTER_DESCRIP' | translate }}</div>
            <!--.input-field(ng-class="{ 'has-error' : submitted && callMasterForm.location.$error.required }")
            input.user-field(type="text", name="location", ng-model="user.location", ng-change="checkChanges()", placeholder="{{ 'cart.CLIENT_LOCATION' | translate }}", ng-focus="isFocused=true", ng-blur="isFocused=false", required)
            .error-tooltip(ng-show='submitted && callMasterForm.location.$error.required') {{ 'login.EMPTY_FIELD' | translate }}
            
            ul.location-list-tooltip(ng-show="locationDirty && isFocused", ng-focus="isFocused=true", ng-blur="isFocused=false", tabindex="1")
              li.location-option(ng-hide="filteredCity.length") {{ 'cart.EMPTY_SEARCH' | translate }}
              li.location-option(ng-repeat="city in filteredCity = (cities | filter: filterBySearch)", ng-click="selectCity(city)") {{city}}
              
            -->
            <div ng-class="{ 'has-error' : submitted &amp;&amp; callMasterForm.name.$error.required }" class="input-field">
              <input type="text" name="name" ng-model="user.name" placeholder="{{ 'cart.CLIENT_NAME' | translate }}" required class="user-field">
              <div ng-show="submitted &amp;&amp; callMasterForm.name.$error.required" class="error-tooltip">{{ 'login.EMPTY_FIELD' | translate }}</div>
            </div>
            <div ng-class="{ 'has-error' : submitted &amp;&amp; callMasterForm.location.$error.required, 'current-city' : currentCity }" class="input-field">
              <input type="text" name="location" ng-model="user.location" ng-change="checkChanges()" placeholder="{{ 'cart.CLIENT_LOCATION' | translate }}" ng-focus="isFocused=true" ng-blur="isFocused=false" required class="user-field">
              <div ng-show="submitted &amp;&amp; callMasterForm.location.$error.required" class="error-tooltip">{{ 'login.EMPTY_FIELD' | translate }}</div>
              <ul ng-show="showTipCity &amp;&amp; isFocused" ng-focus="isFocused=true" ng-blur="isFocused=false" tabindex="1" class="location-list-tooltip">
                <li ng-repeat="location in filteredCity" ng-click="selectCity(location.city, location.current)" ng-class="{ 'current-city' : location.current }" class="location-option">{{location.city}}</li>
              </ul>
            </div>
            <div ng-class="{ 'has-error' : submitted &amp;&amp; callMasterForm.address.$error.required }" class="input-field">
              <input type="text" name="address" ng-model="user.address" placeholder="{{ 'cart.CLIENT_ADDRESS' | translate }}" required class="user-field">
              <div ng-show="submitted &amp;&amp; callMasterForm.address.$error.required" class="error-tooltip">{{ 'login.EMPTY_FIELD' | translate }}</div>
            </div>
            <div ng-class="{ 'has-error' : submitted &amp;&amp; callMasterForm.phone.$error.required }" class="input-field">
              <input type="tel" name="phone" ng-model="user.phone" ng-pattern="" placeholder="{{ 'login.MOBILE' | translate }}" required class="user-field">
              <div ng-show="submitted &amp;&amp; callMasterForm.phone.$error.required" class="error-tooltip">{{ 'login.EMPTY_FIELD' | translate }}</div>
              <div ng-show="submitted &amp;&amp; callMasterForm.phone.$error.pattern || callMasterForm.phone.$dirty &amp;&amp; callMasterForm.phone.$error.pattern" class="error-tooltip">{{ 'login.WRONG_NUMBER' | translate }}</div>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div id="call-order-dialog" ng-controller="CallOrderCtrl" ng-class="{ 'unvisible' : !global.showOrderDialog }" class="cart-dialogs order-dialog">
      <div class="cart-dialogs-container">
        <form name="callOrderForm" novalidate ng-submit="submitForm(callOrderForm)">
          <div class="cart-dialog-header">
            <button ng-click="hideCallOrderDialog()" type="button" class="cart-dialog-tool back"></button>
            <button ng-click="" type="button" class="cart-dialog-tool print"></button>
            <div class="cart-dialog-title">{{ 'cart.CALL_ORDER' | translate }} {{ global.orderNumber }}</div>
            <button type="submit" class="save">{{ 'cart.READY' | translate }}</button>
          </div>
          <div class="cart-dialog-body">
            <div class="cart-dialog-descrip">{{ 'cart.CALL_ORDER_DESCRIP' | translate }}</div>
            <div class="cart-dialog-label">{{ 'cart.CALL_ORDER_CLIENT_INFO' | translate }}</div>
            <div ng-class="{ 'has-error' : submitted &amp;&amp; callOrderForm.name.$error.required }" class="input-field">
              <input type="text" name="name" ng-model="user.name" placeholder="{{ 'cart.CLIENT_NAME' | translate }}" required class="user-field">
              <div ng-show="submitted &amp;&amp; callOrderForm.name.$error.required" class="error-tooltip">{{ 'login.EMPTY_FIELD' | translate }}</div>
            </div>
            <div ng-class="{ 'has-error' : submitted &amp;&amp; callOrderForm.phone.$error.required }" class="input-field">
              <input type="tel" name="phone" ng-model="user.phone" ng-pattern="" placeholder="{{ 'login.MOBILE' | translate }}" required class="user-field">
              <div ng-show="submitted &amp;&amp; callOrderForm.phone.$error.required" class="error-tooltip">{{ 'login.EMPTY_FIELD' | translate }}</div>
              <div ng-show="submitted &amp;&amp; callOrderForm.phone.$error.pattern || callOrderForm.phone.$dirty &amp;&amp; callOrderForm.phone.$error.pattern" class="error-tooltip">{{ 'login.WRONG_NUMBER' | translate }}</div>
            </div>
            <div class="cart-dialog-label">{{ 'cart.CALL_ORDER_DELIVERY' | translate }} {{ global.newDeliveryDate }}</div>
            <div ng-class="{ 'has-error' : submitted &amp;&amp; callOrderForm.location.$error.required, 'current-city' : currentCity }" class="input-field">
              <input type="text" name="location" ng-model="user.location" ng-change="checkChanges()" placeholder="{{ 'cart.CLIENT_LOCATION' | translate }}" ng-focus="isFocused=true" ng-blur="isFocused=false" required class="user-field">
              <div ng-show="submitted &amp;&amp; callOrderForm.location.$error.required" class="error-tooltip">{{ 'login.EMPTY_FIELD' | translate }}</div>
              <ul ng-show="showTipCity &amp;&amp; isFocused" ng-focus="isFocused=true" ng-blur="isFocused=false" tabindex="1" class="location-list-tooltip">
                <li ng-repeat="location in filteredCity" ng-click="selectCity(location.city, location.current)" ng-class="{ 'current-city' : location.current }" class="location-option">{{location.city}}</li>
              </ul>
            </div>
            <div ng-class="{ 'has-error' : submitted &amp;&amp; callOrderForm.address.$error.required }" class="input-field">
              <input type="text" name="address" ng-model="user.address" placeholder="{{ 'cart.CLIENT_ADDRESS' | translate }}" required class="user-field">
              <div ng-show="submitted &amp;&amp; callOrderForm.address.$error.required" class="error-tooltip">{{ 'login.EMPTY_FIELD' | translate }}</div>
            </div>
            <div class="cart-dialog-label">{{ 'cart.CALL_ORDER_TOTAL_PRICE' | translate }}: {{ global.orderTotalPrice }} {{ global.currency }}</div>
            <div class="cart-dialog-label">{{ 'cart.CALL_ORDER_ADD_INFO' | translate }}</div>
            <div class="input-field">
              <input type="email" name="mail" ng-model="user.mail" placeholder="{{ 'cart.CLIENT_EMAIL' | translate }}" class="user-field">
              <div ng-show="submitted &amp;&amp; callOrderForm.mail.$error.email" class="error-tooltip">{{ 'cart.WRONG_EMAIL' | translate }}</div>
            </div>
            <div class="input-field">
              <input type="tel" name="phone2" ng-model="user.phone2" ng-pattern="" placeholder="{{ 'cart.ADD_PHONE' | translate }}" class="user-field">
            </div>
          </div>
        </form>
      </div>
    </div>
    <div id="call-credit-dialog" ng-controller="CallCreditCtrl" ng-class="{ 'unvisible' : !global.showCreditDialog }" class="cart-dialogs order-dialog">
      <div class="cart-dialogs-container">
        <form name="callCreditForm" novalidate ng-submit="submitForm(callCreditForm)">
          <div class="cart-dialog-header">
            <button ng-click="hideCallCreditDialog()" type="button" class="cart-dialog-tool back"></button>
            <button ng-click="" type="button" class="cart-dialog-tool print"></button>
            <div class="cart-dialog-title">{{ 'cart.CALL_CREDIT' | translate }} {{ global.orderNumber }}</div>
            <button type="submit" class="save">{{ 'cart.READY' | translate }}</button>
          </div>
          <div class="cart-dialog-body">
            <div class="cart-dialog-descrip">{{ 'cart.CALL_CREDIT_DESCRIP' | translate }}</div>
            <div class="cart-dialog-label">{{ 'cart.CALL_CREDIT_CLIENT_INFO' | translate }}</div>
            <div ng-class="{ 'has-error' : submitted &amp;&amp; callCreditForm.name.$error.required }" class="input-field">
              <input type="text" name="name" ng-model="user.name" placeholder="{{ 'cart.CLIENT_NAME' | translate }}" required class="user-field">
              <div ng-show="submitted &amp;&amp; callCreditForm.name.$error.required" class="error-tooltip">{{ 'login.EMPTY_FIELD' | translate }}</div>
            </div>
            <div ng-class="{ 'has-error' : submitted &amp;&amp; callCreditForm.target.$error.required }" class="input-field">
              <input type="text" name="target" ng-model="user.target" placeholder="{{ 'cart.CREDIT_TARGET' | translate }}" required class="user-field">
              <div ng-show="submitted &amp;&amp; callCreditForm.target.$error.required" class="error-tooltip">{{ 'login.EMPTY_FIELD' | translate }}</div>
            </div>
            <div ng-class="{ 'has-error' : submitted &amp;&amp; callCreditForm.itn.$error.required }" class="input-field">
              <input type="number" name="itn" ng-model="user.itn" placeholder="{{ 'cart.CLIENT_ITN' | translate }}" required class="user-field">
              <div ng-show="submitted &amp;&amp; callCreditForm.itn.$error.required" class="error-tooltip">{{ 'login.EMPTY_FIELD' | translate }}</div>
            </div>
            <div ng-class="{ 'has-error' : submitted &amp;&amp; callCreditForm.phone.$error.required }" class="input-field">
              <input type="tel" name="phone" ng-model="user.phone" ng-pattern="" placeholder="{{ 'login.MOBILE' | translate }}" required class="user-field">
              <div ng-show="submitted &amp;&amp; callCreditForm.phone.$error.required" class="error-tooltip">{{ 'login.EMPTY_FIELD' | translate }}</div>
              <div ng-show="submitted &amp;&amp; callCreditForm.phone.$error.pattern || callCreditForm.phone.$dirty &amp;&amp; callCreditForm.phone.$error.pattern" class="error-tooltip">{{ 'login.WRONG_NUMBER' | translate }}</div>
            </div>
            <div class="input-field">
              <div class="time-block"><span class="time-label">{{ 'cart.CALL_START_TIME' | translate }}</span>
                <input type="nubmer" name="starttime" ng-model="user.starttime" placeholder="00:00" class="time-field">
              </div>
              <div class="time-block"><span class="time-label">{{ 'cart.CALL_END_TIME' | translate }}</span>
                <input type="nubmer" name="endtime" ng-model="user.endtime" placeholder="00:00" class="time-field">
              </div>
            </div>
            <div class="input-field">
              <div ng-if="global.selectedInstalmentPeriod == 1" class="user-field">{{global.selectedInstalmentPeriod}}  {{'common_words.MONTH_LABEL' | translate}}, {{global.selectedInstalmentPercent}}%</div>
              <div ng-if="global.selectedInstalmentPeriod &gt; 1 &amp;&amp; global.selectedInstalmentPeriod &lt; 5" class="user-field">{{global.selectedInstalmentPeriod}}  {{'common_words.MONTHA_LABEL' | translate}}, {{global.selectedInstalmentPercent}} %</div>
              <div ng-if="global.selectedInstalmentPeriod &gt; 4" class="user-field">{{global.selectedInstalmentPeriod}}  {{'common_words.MONTHS_LABEL' | translate}},  {{global.selectedInstalmentPercent}} %</div>
              <!--input.user-field(ng-if="global.selectedInstalmentPeriod == 1", type="text", name="instalment", ng-model="global.selectedInstalmentPeriod {{'common_words.MONTH_LABEL' | translate}} , global.selectedInstalmentPercent %", disabled)-->
              <!--input.user-field(ng-if="global.selectedInstalmentPeriod > 1 && global.selectedInstalmentPeriod < 5", type="text", name="instalment", ng-model=" global.selectedInstalmentPeriod  {{'common_words.MONTHA_LABEL' | translate}} , global.selectedInstalmentPercent %", disabled)-->
              <!--input.user-field(ng-if="global.selectedInstalmentPeriod > 4", type="text", name="instalment", ng-model="global.selectedInstalmentPeriod  {{'common_words.MONTHS_LABEL' | translate}} ,  global.selectedInstalmentPercent %", disabled)-->
            </div>
            <div class="cart-dialog-label">{{ 'cart.CALL_ORDER_TOTAL_PRICE' | translate }} {{ global.orderTotalPrice }}{{ global.currency }} {{ 'cart.CALL_CREDIT_PARTIAL_PRICE' | translate }} {{ global.paymentMonthly }}{{ global.currency }}</div>
            <div class="cart-dialog-label">{{ 'cart.CALL_ORDER_DELIVERY' | translate }} {{ global.newDeliveryDate }}</div>
            <div ng-class="{ 'has-error' : submitted &amp;&amp; callCreditForm.location.$error.required, 'current-city' : currentCity }" class="input-field">
              <input type="text" name="location" ng-model="user.location" ng-change="checkChanges()" placeholder="{{ 'cart.CLIENT_LOCATION' | translate }}" ng-focus="isFocused=true" ng-blur="isFocused=false" required class="user-field">
              <div ng-show="submitted &amp;&amp; callCreditForm.location.$error.required" class="error-tooltip">{{ 'login.EMPTY_FIELD' | translate }}</div>
              <ul ng-show="showTipCity &amp;&amp; isFocused" ng-focus="isFocused=true" ng-blur="isFocused=false" tabindex="1" class="location-list-tooltip">
                <li ng-repeat="location in filteredCity" ng-click="selectCity(location.city, location.current)" ng-class="{ 'current-city' : location.current }" class="location-option">{{location.city}}</li>
              </ul>
            </div>
            <div ng-class="{ 'has-error' : submitted &amp;&amp; callCreditForm.address.$error.required }" class="input-field">
              <input type="text" name="address" ng-model="user.address" placeholder="{{ 'cart.CLIENT_ADDRESS' | translate }}" required class="user-field">
              <div ng-show="submitted &amp;&amp; callCreditForm.address.$error.required" class="error-tooltip">{{ 'login.EMPTY_FIELD' | translate }}</div>
            </div>
            <div class="cart-dialog-label">{{ 'cart.CALL_ORDER_ADD_INFO' | translate }}</div>
            <div class="input-field">
              <input type="email" name="mail" ng-model="user.mail" placeholder="{{ 'cart.CLIENT_EMAIL' | translate }}" class="user-field">
              <div ng-show="submitted &amp;&amp; callCreditForm.mail.$error.email" class="error-tooltip">{{ 'cart.WRONG_EMAIL' | translate }}</div>
            </div>
            <div class="input-field">
              <input type="tel" name="phone2" ng-model="user.phone2" ng-pattern="" placeholder="{{ 'cart.ADD_PHONE' | translate }}" class="user-field">
            </div>
          </div>
        </form>
      </div>
    </div>
  </section>
</section>
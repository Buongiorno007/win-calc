.light-v
  section.page-container(ng-class="{ 'swiped': !lightPage.G.global.isNavMenu }")
    section.left-side
      include menus/_navigation-menu

    section.right-side(ng-class="{'main-page-bg': lightPage.G.global.currOpenPage === 'light', 'main-room-bg': lightPage.G.global.currOpenPage === 'light'}")
      section.main-content(tabindex="0")
        .user-info-container(ng-controller="UserInfoCtrl as userBox",  ng-swipe-left="userBox.swipeLeft($event)", ng-swipe-right="userBox.swipeRight($event)")
          button.nav-menu-btn(ng-class="{ 'show-navmenu': userBox.G.global.isNavMenu , 'orange-navmenu-btn': (userBox.G.global.isOpenedHistoryPage || userBox.G.global.isOpenedCartPage)}", fs-click="userBox.swipeMainPage($event)")
          img.user-foto(ng-if="userBox.U.userInfo.avatar && (userBox.U.userInfo.avatar!='null')" ng-src="{{userBox.U.userInfo.avatar}}")


        section.construction-page(ng-controller="DesignCtrl as designPage")
          section.construction-container
            .construction-block
              .construction-scrollbox
                svg-template(template="designPage.D.design.templateTEMP", template-width="designPage.constants.svgTemplateWidth", template-height="designPage.constants.svgTemplateHeight", type-construction="designPage.constants.SVG_ID_EDIT")
                .template-elem(ng-if="designPage.P.product.construction_type !== 4 && designPage.D.design.showHint == 1")
                  nobr.clicked(fs-click="designPage.selectProfileFast()") {{::designPage.PROFILE_SYSTEM_SELECT}}
                  | ,&nbsp;
                  nobr.clicked(fs-click="designPage.selectGlassFast()")  {{::designPage.GLASS_SELECT}}
                  | &nbsp;{{::designPage.AND}}&nbsp;
                  nobr.clicked(fs-click="designPage.selectWindowsHardwareFast()",ng-if="designPage.G.global.isSashesInTemplate > 0") {{::designPage.HARDWARE_SELECT}}
                  nobr(ng-if="designPage.G.global.isSashesInTemplate == 0") {{::designPage.HARDWARE_SELECT}}
                  | &nbsp;{{::designPage.LEFT_TEXT_SELECT}}
                .template-elem(ng-if="designPage.P.product.construction_type == 4 && designPage.D.design.showHint == 1")
                  nobr.clicked(fs-click="designPage.selectGlassFast()") {{::designPage.GLASS_SELECT_BIG}}
                  | &nbsp;{{::designPage.LEFT_TEXT_SELECT}}
            .right-menu-header
              .nav-tool-box(ng-if="designPage.D.design.designSteps.length > 0")
                button.construct-tools.step-back(ng-click="designPage.stepBack()")
                .nav-tool-label {{ ::designPage.BACK }}

            .door-config-menu(ng-if="designPage.P.product.construction_type === 4")
              button.door-config-btn(ng-class="{'active': designPage.D.design.steps.isDoorConfig}", ng-click="designPage.toggleDoorConfig()")
              .door-config-label {{ ::designPage.DOOR_CONFIG_LABEL }}
              .door-config-description {{ ::designPage.DOOR_CONFIG_DESCTIPT }}: {{ designPage.P.product.doorName | translate }};
              .door-config-description {{ ::designPage.SASH_CONFIG_DESCTIPT }}: {{ designPage.P.product.doorSashName }};
              .door-config-description {{ ::designPage.HANDLE_CONFIG_DESCTIPT }}: {{ designPage.P.product.doorHandle.name }};
              .door-config-description {{ ::designPage.LOCK_CONFIG_DESCTIPT }}: {{ designPage.P.product.doorLock.name }};

            .right-menu-footer
              .calculators-box.size-calculator(ng-class="{'active': designPage.G.global.isSizeCalculator}")
                include parts/_size-calculator

            include panels/_templates
            section.door-configuration(ng-class="{'active': designPage.D.design.steps.isDoorConfig}")

              .door-config-column.step1
                .door-config-backfon
                .door-config-header
                  .door-inner
                    .door-title 1 {{ ::designPage.STEP }}
                    .door-subtitle {{ ::designPage.LABEL_DOOR_TYPE }}
                .door-config-content(ng-class="{'scroll-box': !designPage.D.design.steps.selectedStep2}")
                  ul.door-config-list
                    li.door-config-option(ng-repeat="door in designPage.D.design.doorShapeList track by $index", ng-class="{'selected': designPage.D.design.doorConfig.doorShapeIndex === $index}", ng-click="designPage.selectDoor($index, designPage.P.product)")
                      .door-inner
                        .door-option-icon
                          img.door-shape(ng-src="{{ door.icon }}" ng-hide="designPage.D.design.doorConfig.doorShapeIndex === $index")
                          img.door-shape(ng-src="{{ door.iconSelect }}", ng-show="designPage.D.design.doorConfig.doorShapeIndex === $index")
                        .door-option-label {{ ::door.name | translate }}
                      .selected-item-arrow(ng-show="designPage.D.design.doorConfig.doorShapeIndex === $index")

              .door-config-column.step2(ng-class="{'active': designPage.D.design.steps.selectedStep1}")
                .door-config-backfon
                .door-config-header
                  .door-inner
                    .door-title 2 {{ ::designPage.STEP }}
                    .door-subtitle {{ ::designPage.LABEL_SASH_TYPE }}
                .door-config-content(ng-class="{'scroll-box': !designPage.D.design.steps.selectedStep3}")
                  ul.door-config-list
                    li.door-config-option(ng-repeat="sashShape in designPage.D.design.sashShapeList track by $index", ng-class="{'selected': designPage.D.design.doorConfig.sashShapeIndex === $index}", ng-click="designPage.selectSash($index, designPage.P.product)")
                      .door-inner
                        .door-option-label {{ sashShape.name }}
                      .selected-item-arrow(ng-show="designPage.D.design.doorConfig.sashShapeIndex === $index")

              .door-config-column.step3(ng-class="{'active': designPage.D.design.steps.selectedStep2}")
                .door-config-backfon
                .door-config-header
                  .door-inner
                    .door-title 3 {{ ::designPage.STEP }}
                    .door-subtitle {{ ::designPage.LABEL_HANDLE_TYPE }}
                .door-config-content(ng-class="{'scroll-box': !designPage.D.design.steps.selectedStep4}")
                  ul.door-config-list
                    li.door-config-option(ng-repeat="handle in designPage.D.design.handleShapeList track by $index", ng-class="{'selected': designPage.D.design.doorConfig.handleShapeIndex === handle.id}", ng-click="designPage.selectHandle(handle.id, designPage.P.product)")
                      .door-inner
                        .door-option-icon
                          img.door-hardware(ng-if="handle.list_type_id === 35", ng-src="img/door-config/lever-handle.png", ng-hide="designPage.D.design.doorConfig.handleShapeIndex === handle.id")
                          img.door-hardware(ng-if="handle.list_type_id === 35", ng-src="img/door-config-selected/lever-handle.png", ng-show="designPage.D.design.doorConfig.handleShapeIndex ===handle.id")
                          img.door-hardware(ng-if="handle.list_type_id === 36", ng-src="img/door-config/standart-handle.png", ng-hide="designPage.D.design.doorConfig.handleShapeIndex === handle.id")
                          img.door-hardware(ng-if="handle.list_type_id === 36", ng-src="img/door-config-selected/standart-handle.png", ng-show="designPage.D.design.doorConfig.handleShapeIndex === handle.id")
                        .door-option-label {{ handle.name }}
                      .selected-item-arrow(ng-show="designPage.D.design.doorConfig.handleShapeIndex === handle.id")

              .door-config-column.step4(ng-class="{'active': designPage.D.design.steps.selectedStep3}")
                .door-config-backfon
                .door-config-header
                  .door-inner
                    .door-title 4 {{ ::designPage.STEP }}
                    .door-subtitle {{ ::designPage.LABEL_LOCK_TYPE }}
                .door-config-content(ng-class="{'scroll-box': designPage.D.design.steps.selectedStep3}")
                  ul.door-config-list
                    li.door-config-option(ng-repeat="lock in designPage.D.design.lockShapeList track by $index", ng-class="{'selected': designPage.D.design.doorConfig.lockShapeIndex === $index}", ng-click="designPage.selectLock($index, designPage.P.product)")
                      .door-inner
                        .door-option-icon
                          img.door-hardware(ng-if="lock.type === 1 || lock.type === 2", ng-src="img/door-config/onelock.png" ng-hide="designPage.D.design.doorConfig.lockShapeIndex === $index")
                          img.door-hardware(ng-if="lock.type === 1 || lock.type === 2", ng-src="img/door-config-selected/onelock.png", ng-show="designPage.D.design.doorConfig.lockShapeIndex === $index")
                          img.door-hardware(ng-if="lock.type === 3 || lock.type === 4", ng-src="img/door-config/multilock.png" ng-hide="designPage.D.design.doorConfig.lockShapeIndex === $index")
                          img.door-hardware(ng-if="lock.type === 3 || lock.type === 4", ng-src="img/door-config-selected/multilock.png", ng-show="designPage.D.design.doorConfig.lockShapeIndex === $index")
                        .door-option-label {{ lock.name }}
                      .selected-item-arrow(ng-show="designPage.D.design.doorConfig.lockShapeIndex === $index")

              .door-config-tools
                button.door-config-finish-btn.close-door-config(ng-click="designPage.closeDoorConfig()")
                button.door-config-finish-save-btn.save-door-config(ng-show="designPage.D.design.steps.selectedStep4", ng-click="designPage.saveDoorConfig()")

            .design-attantion(ng-if="designPage.config.isDesignError") {{ ::designPage.NOT_AVAILABLE }}
            .design-attantion(ng-if="designPage.D.design.isDimExtra") {{ ::designPage.DIM_EXTRA }}
              .close-dialog(ng-click="designPage.closeAttantion()")
            .design-attantion(ng-if="designPage.D.design.isSquareExtra") {{ ::designPage.SQUARE_EXTRA }}
              .close-dialog(ng-click="designPage.closeAttantion()")
            .design-attantion(ng-if="designPage.config.isTest") {{ ::designPage.TEST_STAGE }}
              .close-dialog(ng-click="designPage.closeAttantion()")
  include menus/_config_menu_light

  include parts/_attantions
        include parts/_check-doors
  include parts/_alert
  include parts/_loader

#call-master-dialog.cart-dialogs(ng-controller="CallMasterCtrl as masterDialog", ng-class="{ 'unvisible' : !masterDialog.C.cart.isMasterDialog }")
  .cart-dialogs-container
    form(name='callMasterForm', novalidate, ng-submit="masterDialog.submitForm(callMasterForm)")
      .cart-dialog-header
        button.cart-dialog-tool.back(hm-tap="masterDialog.closeOrderDialog()", type="button")
        .cart-dialog-title {{ 'cart.CALL_MASTER' | translate }}
        button.save(type="submit") {{ 'cart.READY' | translate }}
      .cart-dialog-body
        .cart-dialog-descrip {{ 'cart.CALL_MASTER_DESCRIP' | translate }}

        .input-field(ng-class="{ 'has-error' : masterDialog.C.cart.submitted && callMasterForm.name.$error.required }")
          input.user-field(type="text", name="name", ng-model="masterDialog.C.cart.customer.customer_name", placeholder="{{ 'cart.CLIENT_NAME' | translate }}", required)
          .error-tooltip(ng-show="masterDialog.C.cart.submitted && callMasterForm.name.$error.required") {{ 'login.EMPTY_FIELD' | translate }}

        .input-field(ng-class="{ 'has-error' : masterDialog.C.cart.submitted && callMasterForm.location.$error.required }")
          input.user-field(type="text", name="location", ng-model="masterDialog.C.cart.customer.customer_location", ng-change="masterDialog.changeLocation()", placeholder="{{ 'cart.CLIENT_LOCATION' | translate }}", ng-blur="masterDialog.C.cart.isCityBox = false", required)
          .error-tooltip(ng-show='masterDialog.C.cart.submitted && callCreditForm.location.$error.required') {{ 'login.EMPTY_FIELD' | translate }}
          ul.location-list-tooltip(ng-show="masterDialog.C.cart.isCityBox", tabindex="1")
            li.location-option(ng-repeat="location in masterDialog.locations | filter: {cityName: masterDialog.C.cart.customer.customer_location } | orderBy:'cityName'", hm-tap="masterDialog.selectCity(location.fullLocation)") {{location.fullLocation}}



          .input-field(ng-class="{ 'has-error' : masterDialog.C.cart.submitted && callMasterForm.address.$error.required }")
          input.user-field(type="text", name="address", ng-model="masterDialog.C.cart.customer.customer_address", placeholder="{{ 'cart.CLIENT_ADDRESS' | translate }}", required)
          .error-tooltip(ng-show="masterDialog.C.cart.submitted && callMasterForm.address.$error.required") {{ 'login.EMPTY_FIELD' | translate }}

        .input-field(ng-class="{ 'has-error' : masterDialog.C.cart.submitted && callMasterForm.phone.$error.required }")
          input.user-field(type="tel", name="phone", ng-model="masterDialog.C.cart.customer.customer_phone", ng-pattern="", placeholder="{{ 'login.MOBILE' | translate }}", required)
          .error-tooltip(ng-show="masterDialog.C.cart.submitted && callMasterForm.phone.$error.required") {{ 'login.EMPTY_FIELD' | translate }}
          .error-tooltip(ng-show="masterDialog.C.cart.submitted && callMasterForm.phone.$error.pattern || callMasterForm.phone.$dirty && callMasterForm.phone.$error.pattern") {{ 'login.WRONG_NUMBER' | translate }}
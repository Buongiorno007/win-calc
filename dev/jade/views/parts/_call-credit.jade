#call-credit-dialog.cart-dialogs.order-dialog(ng-controller="CallCreditCtrl as creditDialog", ng-class="{ 'unvisible' : !creditDialog.C.cart.isCreditDialog }")
  .cart-dialogs-container
    form(name='callCreditForm', novalidate, ng-submit="creditDialog.submitForm(callCreditForm)")
      .cart-dialog-header
        button.cart-dialog-tool.back(hm-tap="creditDialog.closeOrderDialog()", type="button")
        button.cart-dialog-tool.print(hm-tap="", type="button")
        .cart-dialog-title {{ 'cart.CALL_CREDIT' | translate }}
      .cart-dialog-body
        .cart-dialog-descrip {{ 'cart.CALL_CREDIT_DESCRIP' | translate }}
        .cart-dialog-label {{ 'cart.CALL_CREDIT_CLIENT_INFO' | translate }}

        .input-field(ng-class="{ 'has-error' : creditDialog.C.cart.submitted && callCreditForm.name.$error.required }")
          input.user-field(type="text", name="name", ng-model="creditDialog.C.cart.customer.customer_name", placeholder="{{ 'cart.CLIENT_NAME' | translate }}", required)
          .error-tooltip(ng-show="creditDialog.C.cart.submitted && callCreditForm.name.$error.required") {{ 'login.EMPTY_FIELD' | translate }}

        .input-field(ng-class="{ 'has-error' : creditDialog.C.cart.submitted && callCreditForm.target.$error.required }")
          input.user-field(type="text", name="target", ng-model="creditDialog.C.cart.customer.customer_target", placeholder="{{ 'cart.CREDIT_TARGET' | translate }}", required)
          .error-tooltip(ng-show="creditDialog.C.cart.submitted && callCreditForm.target.$error.required") {{ 'login.EMPTY_FIELD' | translate }}

        .input-field(ng-class="{ 'has-error' : creditDialog.C.cart.submitted && callCreditForm.itn.$error.required }")
          input.user-field(type="number", name="itn", ng-model="creditDialog.C.cart.customer.customer_itn", placeholder="{{ 'cart.CLIENT_ITN' | translate }}", required)
          .error-tooltip(ng-show="creditDialog.C.cart.submitted && callCreditForm.itn.$error.required") {{ 'login.EMPTY_FIELD' | translate }}

        .input-field(ng-class="{ 'has-error' : creditDialog.C.cart.submitted && callCreditForm.phone.$error.required }")
          input.user-field(type="tel", name="phone", ng-model="creditDialog.C.cart.customer.customer_phone", ng-pattern="", placeholder="{{ 'login.MOBILE' | translate }}", required)
          .error-tooltip(ng-show="creditDialog.C.cart.submitted && callCreditForm.phone.$error.required") {{ 'login.EMPTY_FIELD' | translate }}
          .error-tooltip(ng-show="creditDialog.C.cart.submitted && callCreditForm.phone.$error.pattern || callCreditForm.phone.$dirty && callCreditForm.phone.$error.pattern") {{ 'login.WRONG_NUMBER' | translate }}


        .input-field
          .time-block
            span.time-label {{ 'cart.CALL_START_TIME' | translate }}
            input.time-field(type="nubmer", name="starttime", ng-model="creditDialog.C.cart.customer.customer_starttime", placeholder="00:00")
          .time-block
            span.time-label {{ 'cart.CALL_END_TIME' | translate }}
            input.time-field(type="nubmer", name="endtime", ng-model="creditDialog.C.cart.customer.customer_endtime", placeholder="00:00")

        .input-field
          .user-field {{ creditDialog.O.order.selectedInstalmentPeriod }}
            ng-pluralize(count="creditDialog.O.order.selectedInstalmentPeriod",
            when="{'1': '{{ creditDialog.config.month }}', '2': '{{ creditDialog.config.montha }}', '3': '{{ creditDialog.config.montha }}', '4': '{{ creditDialog.config.montha }}', 'other': '{{ creditDialog.config.months }}'}") , {{creditDialog.O.order.selectedInstalmentPercent}}%

        .cart-dialog-label {{ 'cart.CALL_ORDER_TOTAL_PRICE' | translate }} {{ creditDialog.O.order.order_price_dis }}{{ creditDialog.U.userInfo.currency }} {{ 'cart.CALL_CREDIT_PARTIAL_PRICE' | translate }} {{ creditDialog.O.order.payment_monthly }}{{ creditDialog.U.userInfo.currency }}

        .cart-dialog-label {{ 'cart.CALL_ORDER_DELIVERY' | translate }} {{ creditDialog.O.order.new_delivery_date | date:"dd.MM.yyyy"}}

        .input-field(ng-class="{ 'has-error' : creditDialog.C.cart.submitted && callCreditForm.location.$error.required }")
          input.user-field(type="text", name="location", ng-model="creditDialog.C.cart.customer.customer_location", ng-change="creditDialog.changeLocation()", placeholder="{{ 'cart.CLIENT_LOCATION' | translate }}", ng-blur="creditDialog.C.cart.isCityBox = false", autocomplete="off", required)
          .error-tooltip(ng-show='creditDialog.C.cart.submitted && callCreditForm.location.$error.required') {{ 'login.EMPTY_FIELD' | translate }}
          ul.location-list-tooltip(ng-show="creditDialog.C.cart.isCityBox", tabindex="1")
            li.location-option(ng-repeat="location in creditDialog.locations | filter: {cityName: creditDialog.C.cart.customer.customer_location } | orderBy:'cityName'", hm-tap="creditDialog.selectCity(location)") {{location.fullLocation}}



        .input-field(ng-class="{ 'has-error' : creditDialog.C.cart.submitted && callCreditForm.address.$error.required }")
          input.user-field(type="text", name="address", ng-model="creditDialog.C.cart.customer.customer_address", placeholder="{{ 'cart.CLIENT_ADDRESS' | translate }}", required)
          .error-tooltip(ng-show="creditDialog.C.cart.submitted && callCreditForm.address.$error.required") {{ 'login.EMPTY_FIELD' | translate }}


        .cart-dialog-label {{ 'cart.CALL_ORDER_ADD_INFO' | translate }}

        .input-field(ng-class="{ 'has-error' : creditDialog.C.cart.submitted && callCreditForm.mail.$error.required }")
          input.user-field(type="email", name="mail", ng-model="creditDialog.C.cart.customer.customer_email", placeholder="{{ 'cart.CLIENT_EMAIL' | translate }}", required)
          .error-tooltip(ng-show="creditDialog.C.cart.submitted && callCreditForm.mail.$error.required") {{ 'login.EMPTY_FIELD' | translate }}
          .error-tooltip(ng-show="creditDialog.C.cart.submitted && callCreditForm.mail.$error.email") {{ 'cart.WRONG_EMAIL' | translate }}

        .input-field
          input.user-field(type="tel", name="phone2", ng-model="creditDialog.C.cart.customer.customer_phone_city", ng-pattern="", placeholder="{{ 'cart.ADD_PHONE' | translate }}")

        .input-field
          .subtitle-field {{ 'cart.CLIENT_SEX' | translate }}
          label.label-field {{ 'cart.CLIENT_SEX_M' | translate }}
            input.radio-field(type="radio", name="sex", ng-model="creditDialog.C.cart.customer.customer_sex", value="1")
          label.label-field {{ 'cart.CLIENT_SEX_F' | translate }}
            input.radio-field(type="radio", name="sex", ng-model="creditDialog.C.cart.customer.customer_sex", value="2")

        .input-field(ng-class="{ 'has-error' : creditDialog.C.cart.submitted && callCreditForm.age.$error.required }")
          .subtitle-field {{ 'cart.CLIENT_AGE' | translate }}
          select.user-select-field(name="age", ng-model="creditDialog.C.cart.customer.customer_age", ng-options="age.name for age in creditDialog.C.optionAge", required)
            //option(value='') {{ 'cart.SELECT_AGE' | translate }}
            option(value='') {{ 'cart.SELECT_PLACEHOLD' | translate }}
          .error-tooltip(ng-show="creditDialog.C.cart.submitted && callCreditForm.age.$error.required") {{ 'login.EMPTY_FIELD' | translate }}

        .input-field(ng-class="{ 'has-error' : creditDialog.C.cart.submitted && callCreditForm.education.$error.required }")
          .subtitle-field {{ 'cart.CLIENT_EDUCATION' | translate }}
          select.user-select-field(name="education", ng-model="creditDialog.C.cart.customer.customer_education", ng-options="educ.name for educ in creditDialog.C.optionEductaion", required)
            //option(value='') {{ 'cart.SELECT_ADUCATION' | translate }}
            option(value='') {{ 'cart.SELECT_PLACEHOLD' | translate }}
          .error-tooltip(ng-show="creditDialog.C.cart.submitted && callCreditForm.education.$error.required") {{ 'login.EMPTY_FIELD' | translate }}

        .input-field(ng-class="{ 'has-error' : creditDialog.C.cart.submitted && callCreditForm.occupation.$error.required }")
          .subtitle-field {{ 'cart.CLIENT_OCCUPATION' | translate }}
          select.user-select-field(name="occupation", ng-model="creditDialog.C.cart.customer.customer_occupation", ng-options="occup.name for occup in creditDialog.C.optionOccupation", required)
            //option(value='') {{ 'cart.SELECT_OCCUPATION' | translate }}
            option(value='') {{ 'cart.SELECT_PLACEHOLD' | translate }}
          .error-tooltip(ng-show="creditDialog.C.cart.submitted && callCreditForm.occupation.$error.required") {{ 'login.EMPTY_FIELD' | translate }}

        .input-field(ng-class="{ 'has-error' : creditDialog.C.cart.submitted && callCreditForm.infoSource.$error.required }")
          .subtitle-field {{ 'cart.CLIENT_INFO_SOURCE' | translate }}
          select.user-select-field(name="infoSource", ng-model="creditDialog.C.cart.customer.customer_infoSource", ng-options="info.name for info in creditDialog.C.optionInfo", required)
            //option(value='') {{ 'cart.SELECT_INFO_SOURCE' | translate }}
            option(value='') {{ 'cart.SELECT_PLACEHOLD' | translate }}
          .error-tooltip(ng-show="creditDialog.C.cart.submitted && callCreditForm.infoSource.$error.required") {{ 'login.EMPTY_FIELD' | translate }}

        button.save.save-order(type="submit") {{ 'cart.READY' | translate }}